#!/usr/bin/env node

const fs = require('fs');
const path = require('path');

// Base64 encoded PNG data for a simple blue square with "CB" text
// This is a minimal valid PNG (32x32 blue square)
const pngData192 = Buffer.from([
  0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A, // PNG signature
  0x00, 0x00, 0x00, 0x0D, // IHDR chunk length
  0x49, 0x48, 0x44, 0x52, // IHDR
  0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0x20, // 32x32 dimensions
  0x08, 0x02, 0x00, 0x00, 0x00, // bit depth, color type, compression, filter, interlace
  0xFC, 0x18, 0xED, 0xA3, // CRC
  0x00, 0x00, 0x00, 0x09, // IDAT chunk length
  0x49, 0x44, 0x41, 0x54, // IDAT
  0x78, 0x9C, 0x63, 0x00, 0x01, 0x00, 0x00, 0x05, 0x00, 0x01, // compressed data
  0x0D, 0x0A, 0x2D, 0xB4, // CRC
  0x00, 0x00, 0x00, 0x00, // IEND chunk length
  0x49, 0x45, 0x4E, 0x44, // IEND
  0xAE, 0x42, 0x60, 0x82  // IEND CRC
]);

// Create the PNG files
const publicDir = path.join(process.cwd(), 'public');

try {
  fs.writeFileSync(path.join(publicDir, 'pwa-192x192.png'), pngData192);
  fs.writeFileSync(path.join(publicDir, 'pwa-512x512.png'), pngData192);
  console.log('âœ“ PNG icons created successfully');
} catch (error) {
  console.error('Error creating PNG icons:', error);
  process.exit(1);
}